<!DOCTYPE html>
<html>
<head>

<title>Database Backup</title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<script data-ad-client="ca-pub-1005888209614542" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
<script>
  var OneSignal = window.OneSignal || [];
  OneSignal.push(function() {
    OneSignal.init({
      appId: "9c00a8da-786a-4c91-9ea2-2faab64b9fe4",
    });
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-126945561-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-126945561-3');
</script>


<style>
body {
  margin: 0;
  font-family: "Lato", sans-serif;
  font-size: 14px;
}


.top-container {
  background-color: #93EAD7;
  padding: 30px;
  text-align: center;
}

.header {
  padding: 10px 16px;
  background: #555;
  color: #f1f1f1;
}

.footer {
  padding: 10px 16px;
  background: #DAD8D8;
  color: #FFFFFF;
}


.content {
  padding: 16px;
  
}

.content1 {
  padding: 16px;
  
  margin: 8px;
  border-radius: 15px;
  background-color: #F5F5F5;
}

.content2 {
  padding: 16px;
  
  margin: 8px;
  border-radius: 15px;
  background-color: #93EAD7;
}

.sticky {
  position: fixed;
  top: 0;
  width: 100%;
}

.sticky + .content {
  padding-top: 102px;
}



.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 16px;
  color: #818181;
  display: block;
  transition: 0.3s;
}

.sidenav a:hover {
  color: #f1f1f1;
}

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}



ul {
  color: white;
}



@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}

.responsive {
  max-width: 100%;
  height: auto;
}


.myul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #333;
  font-size: 11px;
}

.myli {
  float: left;
  border-right:1px solid #bbb;
}

.myli:last-child {
  border-right: none;
}

.myli a {
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

.myli a:hover:not(.active) {
  background-color: #111;
}

.active {
  background-color: #4CAF50;
}

</style>

</head>
<body>

<div id="mySidenav" class="sidenav">
  
  <h2><a href='oracle.html'>Menu</a></h2>
    <a><input type="text" id="mySearch" onkeyup="myFunction1()" placeholder="Search.." title="Type in a category" ></a>
    <ul id="myMenu">
      <script src="menu.js"></script>
    </ul>
	
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href='about.html'>About</a>
  <a href='stayathome.html'><span style='color:red'>Stay Home</span></a>
  <a href='https://www.youtube.com/watch?v=QCYMX9IY_NY&list=UUdQl_iHJiSH-wIGHXroJaBQ'>YouTube</a>
  
  
  
</div>


<div class="top-container">
	
	<span style="font-size:12px; vertical-align:middle; line-height: 40px; float:right" ><img src="icon1.png" alt="steps"  width="70"></img></span>
	
  <h1>Database backup</h1>
  <p>Click on Menu to change topic</p>
</div>

<div class="header" id="myHeader">
  <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; Menu</span>
</div>

<div class="content">
  <h3>Database backup</h3>
  
	<p align="center">
	<img src="img/dbbackup.png" alt="steps" class="responsive" width="600" height="400"></p>
  
	<div class="content1">
	<p><span style='color:red'>Database backup</span> is the process of backing up the operational state, architecture and stored data of database software. It enables the creation of a duplicate instance or copy of a database in case the main database crashes, is corrupted or is lost.<br><br>
	There are several ways to take a database backup, like expdp (export dump), exp (the traditional export dump), tar (copy of physical files), and rman (Oracle Recovery Manager)â€¦<br><br>
	For Oracle FLEXCUBE, and exactly before starting the <a href='eod.html'>EOD</a> operation, we will use the expdp method to take our database backup.<br><br>
	Before we proceed, we will explain the Oracle Database, and how the backup may be different from system/application to another.<br><br>
	The Oracle Database is set of multiple objects like: Tables, Views, Triggers, Sequences, Functions, Procedures, Packages, and many other objects.<br><br>
	Some applications may only use Tables. In this case the backup should include tables and there will be no need to backup all the other objects.<br><br>
	Another application may use Tables and Views. In this case we should backup these 2 objects and ignore the remaining ones.<br><br>
	So, the idea is to take a backup of all objects that are used by the application. We call it a full database backup.<br><br>
	The Oracle FLEXCUBE solution uses all the database objects mentioned before (Tables, Views, Triggers, Sequences, Functions, Procedures, and Packages) in addition to some other objects that are not listed here.<br><br>
	However, for the EOD purpose, there is no need that our backup to include all these objects (full backup), because most of them will remain unchanged even after the EOD operation complete. The only objects that change before and after the EOD are Tables data, and Sequences. Therefore, our backup should include at least these 2 objects. Consequently, the backup time and space will be less than the full database backup.<br><br>
	The export command should include the following option: <span style='color:blue'>INCLUDE=TABLE,SEQUENCE</span></p>
	</div>
	
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- site1 -->
	<ins class="adsbygoogle"
		 style="display:block"
		 data-ad-client="ca-pub-1005888209614542"
		 data-ad-slot="5673539792"
		 data-ad-format="horizontal"
		 data-full-width-responsive="true"></ins>
	<script>
		 (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	
	
	<div class="content1">
	
	<p><span style='color:red'>In this example:</span>
	<li>Database server: 192.168.1.102</li>
	<li>schema: FCUBS</li>
	<li>system password: sys</li></p>
	</div>
	
	<div class="content1">
	<p>Using MobaXterm, open ssh session to the database server: ssh oracle@192.168.1.102</p>
	<p align="center">
	<img src="img/ssh.PNG" alt="ssh" class="responsive" width="800" height="400"></p>
	
	<p>Run the script: ./beod.sh</p>
	<p align="center">
	<img src="img/beod.PNG" alt="beod" class="responsive" width="800" height="400"></p>
	
	<p>This script will take a database backup (tables and sequences). We will use this backup to restore the database in case of any failure during the EOD later on.</p>
	<p>The Backup name = BEOD-"server time".dmp</p>
	<p>When database backup completed, the output should be like the following picture:</p>
	<p align="center">
	<img src="img/beodcompleted.PNG" alt="beodcompleted" class="responsive" width="800" height="400"></p>
	<p>Note that the backup destination is: /data/DMP/</p>

	</div>
	
	<div class="content1">
	<p>When the EOD compete (status =C) for all branches. We should take another database backup using MobaXterm by running the script: ./aeod.sh (follow the same steps as ./beod.sh).</p>
	<p>The Backup name = AEOD-"server time".dmp</p>
	<p>When the ./aeod.sh complete, you will find the backup on the database server under the following directory: /data/DMP/</p>
	</div>
	
	
	<div class="content1">
	<p>Use WinScp to copy the generated backup to external hard drive.</p>
	<p align="center">
	<img src="img/winscp.PNG" alt="winscp" class="responsive" width="800" height="400"></p>
	</div>
	
	<div class="content2">
	<p><font size="-1">beod.sh = expdp system/sys DIRECTORY=DMP DUMPFILE=BEOD-`date '+%d%m%Y_%H%M%S'`.dmp SCHEMAS=fcubs INCLUDE=TABLE,SEQUENCE PARALLEL=4 LOGFILE=BEOD-`date '+%d%m%Y_%H%M%S'`.log</font></p>
	<p><font size="-1">aeod.sh = expdp system/sys DIRECTORY=DMP DUMPFILE=AEOD-`date '+%d%m%Y_%H%M%S'`.dmp SCHEMAS=fcubs INCLUDE=TABLE,SEQUENCE PARALLEL=4 LOGFILE=AEOD-`date '+%d%m%Y_%H%M%S'`.log</font></p>
	</div>
	
	
  </div>
  
<ul class="myul" style="border-bottom:1px solid #bbb">
  <li class="myli" style="float:right"><a  href='oracle.html'>Home</a></li>
</ul>

<ul class="myul">
  <li class="myli"><a href='eod.html'>EOD</a></li>
  <li class="myli"><a class="active" href='dbbackup.html'>Database Backup</a></li>
  <li class="myli"><a href='bulkupload1.html'>Bulk Upload</a></li>
  <li class="myli"><a href='creports.html'>Canned Reports</a></li>
</ul>

<script>
function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}

function myFunction1() {
  var input, filter, ul, li, a, i;
  input = document.getElementById("mySearch");
  filter = input.value.toUpperCase();
  ul = document.getElementById("myMenu");
  li = ul.getElementsByTagName("li");
  for (i = 0; i < li.length; i++) {
    a = li[i].getElementsByTagName("a")[0];
    if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
      li[i].style.display = "";
    } else {
      li[i].style.display = "none";
    }
  }
}


window.onscroll = function() {myFunction()};

var header = document.getElementById("myHeader");
var sticky = header.offsetTop;

function myFunction() {
  if (window.pageYOffset > sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}


</script>


   
</body>
</html> 
